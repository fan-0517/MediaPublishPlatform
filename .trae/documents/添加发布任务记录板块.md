# 实现计划：添加发布任务记录板块

## 1. 需求分析

用户需要在Dashboard页面增加一个"发布任务记录"板块，用于展示文件发布到各账号的详细记录，每条记录包含：

* 文件信息（文件名）
* 账号信息（账号名）
* 账号所属平台信息（平台名）
* 发布状态（待发布、发布中、发布失败、发布成功）
* 发布任务创建时间

## 2. 实现方案

### 2.1 前端修改（Dashboard.vue）

1. **添加发布任务记录板块**：在现有"最近任务"板块下方添加新的"发布任务记录"板块
2. **设计表格布局**：
   * 列设计：文件名、平台、账号、状态、创建时间、操作
   * 使用Element Plus的Table组件实现
   * 状态标签使用不同颜色区分（待发布-蓝色、发布中-黄色、发布成功-绿色、发布失败-红色）
3. **添加API调用**：
   * 新增获取发布任务记录的API调用
   * 实现数据加载和展示逻辑
4. **添加操作按钮**：
   * 查看详情：查看发布任务的详细信息
   * 重试：对发布失败的任务进行重试
   * 取消：对进行中的任务进行取消

### 2.2 API扩展

1. **新增API端点**：在publishApi中添加获取发布任务记录的方法
   ```javascript
   // 获取发布任务记录
   getPublishTaskRecords(params) {
     return http.get('/getPublishTaskRecords', params)
   }
   ```

### 2.3 数据结构设计

每条发布任务记录的数据结构：
```javascript
{
  id: 'string',          // 任务唯一标识
  fileName: 'string',    // 文件名
  fileId: 'string',      // 文件ID
  accountName: 'string', // 账号名
  accountId: 'string',   // 账号ID
  platformName: 'string',// 平台名称
  platformType: 'string',// 平台类型
  status: 'string',      // 发布状态：待发布、发布中、发布失败、发布成功
  createTime: 'string',  // 创建时间
  updateTime: 'string'   // 更新时间
}
```

## 3. 实现步骤

1. 修改Dashboard.vue，添加发布任务记录板块的UI布局
2. 导入publishApi并添加获取发布任务记录的方法
3. 实现数据加载和展示逻辑
4. 添加状态标签和操作按钮
5. 实现操作按钮的功能

## 4. 预期效果

* Dashboard页面新增"发布任务记录"板块
* 表格展示所有发布任务记录，包含文件、平台、账号、状态和时间信息
* 不同状态使用不同颜色的标签区分
* 提供查看详情、重试和取消操作
* 与现有页面风格保持一致

## 5. 技术要点

* 使用Vue 3 Composition API
* 遵循Element Plus组件库的设计规范
* 与现有代码风格保持一致
* 实现响应式布局，适配不同屏幕尺寸
